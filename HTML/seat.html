<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>seat</title>
    <link rel="stylesheet" href="../CSS/bs.css">
    <link rel="stylesheet" href="../CSS/index.css">

    <link href="../font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>
<div class="header">
    <div class="row">
        <div class="font col-md-9">TTMS</div>
        <div class="signState col-md-3">
            <i class="fa fa-user-circle"></i>
            <a href="#">管理员 |</a>
            <a href="signIn.html">登出</a>
        </div>
    </div>
</div>

<br>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-3">
            <ul class="nav nav-pills nav-stacked">
                <li><a href="studio.html">演出厅管理</a></li>
                <li><a href="user.html">用户管理</a></li>
                <li class="active"><a href="seat.html">座位管理</a></li>
            </ul>
        </div>


    <div class="col-md-9">

        <h2 class="title">管理座位</h2>

        <div class="demo clearfix">

            <!---左边座位列表----->

            <div id="seat_area">

                <div class="front">屏幕</div>

            </div>

            <!---右边选座信息----->

            <div class="booking_area">

               <!-- <p>座位：</p>

                <ul id="seats_chose"></ul>-->

                <div id="legend"></div>

            </div>

        </div>
    </div>

    </div>

    <script src="../JS/jquery-1.11.1.min.js"></script>

    <script type="text/javascript" src="../JS/jquery.seat-charts.min.js"></script>

    <script type="text/javascript">

        var price = 100; //电影票价

        $(document).ready(function () {

            var $cart = $('#seats_chose'), //座位区

                    $tickects_num = $('#tickects_num'), //票数

                    $total_price = $('#total_price'); //票价总额


            var sc = $('#seat_area').seatCharts({

                map: [//座位结构图 a 代表座位; 下划线 "_" 代表过道

                    'cccccccccc',

                    'cccccccccc',

                    '__________',

                    'cccccccccc',

                    'cccccccccc',

                    'cccccccccc',

                    'cccccccccc',

                    'cccccccccc',

                    'cccccccccc',

                    'cccccccccc'

                ],

                naming: {//设置行列等信息

                    top: false, //不显示顶部横坐标（行）

                    getLabel: function (character, row, column) { //返回座位信息

                        return column;

                    }

                },

                legend: {//定义图例

                    node: $('#legend'),

                    items: [

                        ['c', 'available', '可选座'],

                        ['c', 'unavailable', '已售出']

                    ]

                },

                click: function () {

                    if (this.status() == 'available') { //若为可选座状态，添加座位

                        $('<li>' + (this.settings.row + 1) + '排' + this.settings.label + '座</li>')

                                .attr('id', 'cart-item-' + this.settings.id)

                                .data('seatId', this.settings.id)

                                .appendTo($cart);



                        return 'selected';

                    } else if (this.status() == 'selected') { //若为选中状态

                        return 'available';

                    } else if (this.status() == 'unavailable') { //若为已售出状态

                        return 'unavailable';

                    } else {

                        return this.style();

                    }

                }

            });

            //设置已损坏的座位

            sc.get(['1_3', '1_4', '3_4', '4_5', '4_6', '6_7', '6_8']).status('selected');


        });


    </script>



</div>
</body>
</html>